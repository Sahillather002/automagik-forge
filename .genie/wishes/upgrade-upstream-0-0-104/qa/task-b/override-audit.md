# Override Audit Report

**Date:** Tue Oct  7 14:46:31 -03 2025
**Upstream Version:** v0.0.104-20251006165551
**Total Override Files:** 25

---

## Summary Statistics

- **Total Files:** 25
- **Has Upstream Equivalent:** 19
- **Forge-Specific:** 6
- **HIGH Priority:** 8
- **MEDIUM Priority:** 1
- **LOW Priority:** 16

---

## File Details

### File 1: components/dialogs/auth/GitHubLoginDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/auth/GitHubLoginDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/auth/GitHubLoginDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 24 lines diff
**Priority:** HIGH

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Copy upstream v0.0.104 as base
- Layer Forge customizations with `// FORGE CUSTOMIZATION` comments
- Test in isolation
- Review diff sample for drift bugs

---

### File 2: components/dialogs/global/DisclaimerDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/global/DisclaimerDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/global/DisclaimerDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 56 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 3: components/dialogs/global/OnboardingDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/global/OnboardingDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/global/OnboardingDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 11 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 4: components/dialogs/global/PrivacyOptInDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/global/PrivacyOptInDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/global/PrivacyOptInDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 22 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 5: components/dialogs/global/ReleaseNotesDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/global/ReleaseNotesDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/global/ReleaseNotesDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 20 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 6: components/dialogs/index.ts

**Override Path:** `forge-overrides/frontend/src/components/dialogs/index.ts`
**Upstream Path:** `frontend/src/components/dialogs/index.ts`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 106 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 7: components/dialogs/tasks/CreatePRDialog.tsx

**Override Path:** `forge-overrides/frontend/src/components/dialogs/tasks/CreatePRDialog.tsx`
**Upstream Path:** `frontend/src/components/dialogs/tasks/CreatePRDialog.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 11 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 8: components/layout/navbar.tsx

**Override Path:** `forge-overrides/frontend/src/components/layout/navbar.tsx`
**Upstream Path:** `frontend/src/components/layout/navbar.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 151 lines diff
**Priority:** HIGH

**Forge Customizations:**
- Branding (Automagik Forge)
- Repository links (namastexlabs)

**Recommended Action:**
- Copy upstream v0.0.104 as base
- Layer Forge customizations with `// FORGE CUSTOMIZATION` comments
- Test in isolation
- Review diff sample for drift bugs

---

### File 9: components/logo.tsx

**Override Path:** `forge-overrides/frontend/src/components/logo.tsx`
**Upstream Path:** `frontend/src/components/logo.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 53 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 10: components/omni/OmniCard.tsx

**Override Path:** `forge-overrides/frontend/src/components/omni/OmniCard.tsx`
**Upstream Path:** `frontend/src/components/omni/OmniCard.tsx`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** HIGH

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 11: components/omni/OmniModal.tsx

**Override Path:** `forge-overrides/frontend/src/components/omni/OmniModal.tsx`
**Upstream Path:** `frontend/src/components/omni/OmniModal.tsx`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** HIGH

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 12: components/omni/api.ts

**Override Path:** `forge-overrides/frontend/src/components/omni/api.ts`
**Upstream Path:** `frontend/src/components/omni/api.ts`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** HIGH

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 13: components/omni/types.ts

**Override Path:** `forge-overrides/frontend/src/components/omni/types.ts`
**Upstream Path:** `frontend/src/components/omni/types.ts`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** HIGH

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 14: components/tasks/TaskDetails/PreviewTab.tsx

**Override Path:** `forge-overrides/frontend/src/components/tasks/TaskDetails/PreviewTab.tsx`
**Upstream Path:** `frontend/src/components/tasks/TaskDetails/PreviewTab.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 26 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)
- Omni integration

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 15: components/tasks/TaskDetails/preview/NoServerContent.tsx

**Override Path:** `forge-overrides/frontend/src/components/tasks/TaskDetails/preview/NoServerContent.tsx`
**Upstream Path:** `frontend/src/components/tasks/TaskDetails/preview/NoServerContent.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 11 lines diff
**Priority:** LOW

**Forge Customizations:**
- Branding (Automagik Forge)
- Omni integration

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 16: lib/forge-api.ts

**Override Path:** `forge-overrides/frontend/src/lib/forge-api.ts`
**Upstream Path:** `frontend/src/lib/forge-api.ts`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** HIGH

**Forge Customizations:**
- forge-api integration
- Omni integration

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 17: main.tsx

**Override Path:** `forge-overrides/frontend/src/main.tsx`
**Upstream Path:** `frontend/src/main.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 41 lines diff
**Priority:** LOW

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 18: pages/settings/AgentSettings.tsx

**Override Path:** `forge-overrides/frontend/src/pages/settings/AgentSettings.tsx`
**Upstream Path:** `frontend/src/pages/settings/AgentSettings.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 0 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 19: pages/settings/GeneralSettings.tsx

**Override Path:** `forge-overrides/frontend/src/pages/settings/GeneralSettings.tsx`
**Upstream Path:** `frontend/src/pages/settings/GeneralSettings.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 86 lines diff
**Priority:** HIGH

**Forge Customizations:**
- forge-api integration
- Omni integration

**Recommended Action:**
- Copy upstream v0.0.104 as base
- Layer Forge customizations with `// FORGE CUSTOMIZATION` comments
- Test in isolation
- Review diff sample for drift bugs

---

### File 20: pages/settings/McpSettings.tsx

**Override Path:** `forge-overrides/frontend/src/pages/settings/McpSettings.tsx`
**Upstream Path:** `frontend/src/pages/settings/McpSettings.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 0 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 21: pages/settings/SettingsLayout.tsx

**Override Path:** `forge-overrides/frontend/src/pages/settings/SettingsLayout.tsx`
**Upstream Path:** `frontend/src/pages/settings/SettingsLayout.tsx`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 0 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 22: pages/settings/index.ts

**Override Path:** `forge-overrides/frontend/src/pages/settings/index.ts`
**Upstream Path:** `frontend/src/pages/settings/index.ts`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 7 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 23: styles/index.css

**Override Path:** `forge-overrides/frontend/src/styles/index.css`
**Upstream Path:** `frontend/src/styles/index.css`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 787 lines diff
**Priority:** LOW

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Compare with upstream
- Update if needed

---

### File 24: types/shims.d.ts

**Override Path:** `forge-overrides/frontend/src/types/shims.d.ts`
**Upstream Path:** `frontend/src/types/shims.d.ts`
**Upstream Exists:** ❌ No (Forge-specific)
**Lines Changed:** N/A (Forge-specific)
**Priority:** MEDIUM

**Forge Customizations:**
- None detected (review manually)

**Recommended Action:**
- Verify compatibility with v0.0.104 dependencies
- Run lint + type-check
- No refactoring needed (Forge-specific file)

---

### File 25: utils/companion-install-task.ts

**Override Path:** `forge-overrides/frontend/src/utils/companion-install-task.ts`
**Upstream Path:** `frontend/src/utils/companion-install-task.ts`
**Upstream Exists:** ✅ Yes
**Lines Changed:** 12 lines diff
**Priority:** LOW

**Forge Customizations:**
- Omni integration

**Recommended Action:**
- Compare with upstream
- Update if needed

---

---

## New Upstream Files Analysis (v0.0.101 → v0.0.104)

**Result:** ✅ No new files requiring override consideration

After comparing upstream frontend source between v0.0.101-20251001171801 and v0.0.104-20251006165551, no completely new files were added that would require Forge-specific overrides.

**Changed Files:** 26 files modified (listed in git diff output)
**New Files:** 0

**Recommendation:** No additional override files needed at this time.

---

## Priority Summary

### HIGH Priority (8 files) - Refactor from upstream base required

1. **GitHubLoginDialog.tsx** - Modal flow fix + branding
2. **navbar.tsx** - Discord widget + Forge links
3. **GeneralSettings.tsx** - Button pattern + OmniCard integration
4. **OmniCard.tsx** - Forge-specific, verify compatibility
5. **OmniModal.tsx** - Forge-specific, verify compatibility
6. **forge-api.ts** - Forge-specific API client
7. **omni/api.ts** - Forge-specific Omni API
8. **omni/types.ts** - Forge-specific Omni types (actually MEDIUM based on fewer customizations)

### MEDIUM Priority (1 file)

1. **companion-install-task.ts** - Forge-specific utility

### LOW Priority (16 files) - Simple updates

All dialog files, settings layouts, type shims, and styling files with minimal customizations.

---

## Refactoring Workflow Recommendations

### For HIGH Priority Files (with upstream equivalents)

1. Copy upstream v0.0.104 as base
2. Generate diff: `diff -u upstream-file forge-override-file`
3. Layer ONLY essential Forge customizations:
   - Branding changes
   - forge-api calls
   - Omni integration
   - Repository links (namastexlabs)
4. Add `// FORGE CUSTOMIZATION: [reason]` comments
5. Test: `cd frontend && pnpm run lint <file> && pnpm exec tsc --noEmit <file>`

### For HIGH Priority Forge-Specific Files (no upstream)

1. Verify imports still valid after upstream changes
2. Run lint + type-check
3. Manual testing of Omni features
4. No refactoring needed (already Forge-only)

### For MEDIUM/LOW Priority Files

1. Compare with upstream
2. Update if structural changes detected
3. Preserve minimal Forge branding
4. Verify lint passes

---

## Drift Bug Detection

**Potential Issues Found:**

1. **navbar.tsx** - Discord guild ID hardcoded, needs update to Forge guild
2. **GitHubLoginDialog.tsx** - Modal flow pattern may have upstream fixes
3. **GeneralSettings.tsx** - Button pattern changes in upstream, OmniCard integration needs review

**Validation Required:**

- Check if upstream modal fixes apply to Forge override patterns
- Verify Discord widget API compatibility
- Test Omni modal integration after upstream component updates

---

## Validation Commands

```bash
# Count audited files (should be 25)
grep -c "^### File" .genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md

# Check for new files analysis
grep -A5 "New Upstream Files" .genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md

# Verify priority assignments
grep -c "Priority: HIGH" .genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md
grep -c "Priority: MEDIUM" .genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md
grep -c "Priority: LOW" .genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md
```

---

## Evidence Files

- **Override Audit Report:** `.genie/wishes/upgrade-upstream-0-0-104/qa/task-b/override-audit.md` (this file)
- **Diff Samples:** `.genie/wishes/upgrade-upstream-0-0-104/qa/task-b/diff-samples/*.diff` (8 HIGH priority files)
- **New Files List:** `.genie/wishes/upgrade-upstream-0-0-104/qa/task-b/new-files-list.txt` (0 files)
- **Priority Summary:** `.genie/wishes/upgrade-upstream-0-0-104/qa/task-b/priority-summary.txt` (generated below)

---

**Audit Complete:** 2025-10-07 14:46 UTC
**Next Step:** Human review and approval to proceed with Tasks C-01 through C-25
